{
  "version": 3,
  "sources": ["../../@upload-io/upload-api-client-upload-js/dist/main.js", "../../progress-smoother/dist/main.js", "../../upload-js/dist/main.js"],
  "sourcesContent": ["module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/index.ts\":\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"beginMultipartUpload\": function() { return /* reexport */ beginMultipartUpload; },\n  \"completeUploadPart\": function() { return /* reexport */ completeUploadPart; },\n  \"getUploadPart\": function() { return /* reexport */ getUploadPart; },\n  \"request\": function() { return /* reexport */ request; }\n});\n\n;// CONCATENATED MODULE: ./src/core/request.ts\n/**\n * Request using XHR client\n * @param options The request options from the the service\n * @returns ApiResult\n * @throws ApiError\n */\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar request = _async(function (config, options) {\n  var url = getUrl(config, options);\n  return _await(sendRequest(config, options, url), function (response) {\n    var responseBody = getResponseBody(response);\n    var responseHeader = getResponseHeader(response, options.responseHeader);\n    return {\n      url: url,\n      ok: response.status >= 200 && response.status < 300,\n      status: response.status,\n      statusText: response.statusText,\n      body: responseHeader || responseBody\n    };\n  });\n});\n\nvar sendRequest = _async(function (config, options, url) {\n  var xhr = new XMLHttpRequest();\n  xhr.open(options.method, url, true);\n  xhr.withCredentials = config.WITH_CREDENTIALS;\n  return _await(getHeaders(config, options), function (headers) {\n    headers.forEach(function (value, key) {\n      xhr.setRequestHeader(key, value);\n    });\n    return new Promise(function (resolve) {\n      xhr.onreadystatechange = function () {\n        if (xhr.readyState === XMLHttpRequest.DONE) {\n          resolve(xhr);\n        }\n      };\n\n      xhr.send(getRequestBody(options));\n    });\n  });\n});\n\nvar getHeaders = _async(function (config, options) {\n  return _await(resolve(options, config.USERNAME), function (username) {\n    return _await(resolve(options, config.PASSWORD), function (password) {\n      return _await(resolve(options, config.HEADERS), function (defaultHeaders) {\n        var headers = new Headers(Object.assign(Object.assign({\n          Accept: contentTypeJson\n        }, defaultHeaders), options.headers));\n\n        if (isStringWithValue(username) && isStringWithValue(password)) {\n          var credentials = btoa(\"\".concat(username, \":\").concat(password));\n          headers.append(\"Authorization\", \"Basic \".concat(credentials));\n        }\n\n        if (options.body) {\n          headers.append(contentType, contentTypeJson);\n        }\n\n        return headers;\n      });\n    });\n  });\n});\n\nvar resolve = _async(function (options, resolver) {\n  return typeof resolver === \"function\" ? resolver(options) : resolver;\n});\n\nvar contentType = \"Content-Type\";\nvar contentTypeJson = \"application/json\";\n\nfunction isDefined(value) {\n  return value !== undefined && value !== null;\n}\n\nfunction isStringWithValue(value) {\n  return typeof value === \"string\" && value !== \"\";\n}\n\nfunction getQueryString(params) {\n  var qs = [];\n  Object.keys(params).forEach(function (key) {\n    var value = params[key];\n\n    if (isDefined(value)) {\n      if (Array.isArray(value)) {\n        value.forEach(function (value) {\n          qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(String(value))));\n        });\n      } else {\n        qs.push(\"\".concat(encodeURIComponent(key), \"=\").concat(encodeURIComponent(String(value))));\n      }\n    }\n  });\n\n  if (qs.length > 0) {\n    return \"?\".concat(qs.join(\"&\"));\n  }\n\n  return \"\";\n}\n\nfunction getUrl(config, options) {\n  var path = options.path.replace(/[:]/g, \"_\");\n  var url = \"\".concat(config.BASE).concat(path);\n\n  if (options.query) {\n    return \"\".concat(url).concat(getQueryString(options.query));\n  }\n\n  return url;\n}\n\nfunction getRequestBody(options) {\n  if (options.body) {\n    return JSON.stringify(options.body);\n  }\n\n  return undefined;\n}\n\nfunction getResponseHeader(xhr, responseHeader) {\n  if (responseHeader) {\n    return xhr.getResponseHeader(responseHeader);\n  }\n\n  return null;\n}\n\nfunction getResponseBody(xhr) {\n  var headerValue = xhr.getResponseHeader(contentType);\n\n  if (headerValue) {\n    var isJSON = headerValue.toLowerCase().startsWith(contentTypeJson);\n\n    if (isJSON) {\n      return JSON.parse(xhr.responseText);\n    } else {\n      return xhr.responseText;\n    }\n  }\n\n  return null;\n}\n;// CONCATENATED MODULE: ./src/services/UploadsService.ts\n\n\nfunction UploadsService_await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n/**\n * Finalizes an upload part for an in-progress multipart upload. Required API key type: 'secret_*' or 'public_*'.\n * @param accountId\n * @param uploadId\n * @param uploadPartIndex\n * @param requestBody\n * @returns void\n * @throws ApiError\n */\n\n\nfunction UploadsService_async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\n/**\n * Gets a remaining upload part for an in-progress upload. Required API key type: 'secret_*' or 'public_*'.\n * @param accountId\n * @param uploadId\n * @param uploadPartIndex\n * @returns UploadPartV2 Success.\n * @throws ApiError\n */\nvar getUploadPart = UploadsService_async(function (config, accountId, uploadId, uploadPartIndex) {\n  return request(config, {\n    method: \"GET\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads, \"/\").concat(uploadId).concat(parts).concat(uploadPartIndex)\n  });\n});\nvar completeUploadPart = UploadsService_async(function (config, accountId, uploadId, uploadPartIndex, requestBody) {\n  return request(config, {\n    method: \"PUT\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads, \"/\").concat(uploadId).concat(parts).concat(uploadPartIndex),\n    body: requestBody\n  });\n});\nvar beginMultipartUpload = UploadsService_async(function (config, accountId, requestBody) {\n  return request(config, {\n    method: \"POST\",\n    path: \"\".concat(accounts).concat(accountId).concat(uploads),\n    body: requestBody\n  });\n});\nvar accounts = \"/v2/accounts/\";\nvar uploads = \"/uploads\";\nvar parts = \"/parts/\";\n;// CONCATENATED MODULE: ./src/index.ts\n/* istanbul ignore file */\n\n/* tslint:disable */\n\n/* eslint-disable */\n\n\n\n\n // Used by upload-js\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(\"./src/index.ts\");\n/******/ })()\n;", "module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/index.ts\":\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"ProgressSmoother\": function() { return /* reexport */ ProgressSmoother; }\n});\n\n;// CONCATENATED MODULE: ./src/ProgressSmoother.ts\nfunction ProgressSmoother(config) {\n  var _a, _b;\n\n  var minFinishDuration = 1000; // If set to 0, the download with abruptly move to 100% on the final chunk. This way it smooths over 1000ms.\n\n  var maxForecastFactor = 0.33; // How much to estimate without receiving a single chunk.\n\n  var minSetupTime = (_a = config.minDelayUntilFirstValue) !== null && _a !== void 0 ? _a : 0;\n  var minTeardownTime = (_b = config.teardownTime) !== null && _b !== void 0 ? _b : 0;\n  var valueIncreaseRatePerSecond = config.valueIncreaseRatePerSecond,\n      averageTimeBetweenValues = config.averageTimeBetweenValues,\n      maxValue = config.maxValue,\n      valueIncreaseDelta = config.valueIncreaseDelta;\n\n  var _lastReading;\n\n  var lastTimeMinus1 = Date.now();\n  var lastYieldedValue = 0;\n  var movingAverage = 0;\n\n  function returnMonotonic(getValue) {\n    var value = getValue();\n\n    if (value > lastYieldedValue) {\n      lastYieldedValue = value;\n    }\n\n    return lastYieldedValue;\n  }\n\n  function hasFinished(lastReading) {\n    return lastReading.value === maxValue;\n  }\n\n  function fromLastReading(lastReading, now) {\n    if (hasFinished(lastReading)) {\n      var teardownTime = Math.max(minFinishDuration, minTeardownTime);\n      var millisElapsed = now - lastReading.time;\n      var percentageIntoTeardown = millisElapsed / teardownTime;\n      var percentageIntoTeardownCapped = Math.min(1, percentageIntoTeardown);\n      var percentageIntoTeardownEased = easeInQuad(percentageIntoTeardownCapped);\n      var delta = lastReading.value - movingAverage;\n      return movingAverage + delta * percentageIntoTeardownEased;\n    }\n\n    return calculateEMA(lastReading.value, now, lastTimeMinus1);\n  }\n\n  function forecastInitialValue(now) {\n    var maxForecastSize = Math.min(valueIncreaseDelta, maxValue * maxForecastFactor);\n    var maxForecastTransferTime = maxForecastSize / valueIncreaseRatePerSecond * 1000;\n    var maxTwiddleTime = minSetupTime + maxForecastTransferTime;\n    var millisElapsed = now - lastTimeMinus1;\n    var percentageIntoTwiddleTime = millisElapsed / maxTwiddleTime;\n    var percentageIntoTwiddleTimeCapped = Math.min(1, percentageIntoTwiddleTime);\n    return percentageIntoTwiddleTimeCapped * maxForecastSize;\n  }\n\n  function alpha(now, lastTime) {\n    var alphaMagicNumber = 3.5; // This just seems to work best, from playing around.\n\n    return 1 - Math.exp(-(now - lastTime) / (averageTimeBetweenValues * alphaMagicNumber));\n  }\n\n  function calculateEMA(value, now, lastTime) {\n    var a = alpha(now, lastTime);\n    return a * value + (1 - a) * movingAverage;\n  }\n\n  function easeInQuad(x) {\n    return x * x;\n  }\n\n  function setValue(value, nowMaybe) {\n    if (_lastReading !== undefined) {\n      if (hasFinished(_lastReading)) {\n        return;\n      }\n\n      movingAverage = calculateEMA(_lastReading.value, _lastReading.time, lastTimeMinus1);\n      lastTimeMinus1 = _lastReading.time;\n    }\n\n    _lastReading = {\n      time: nowMaybe !== null && nowMaybe !== void 0 ? nowMaybe : Date.now(),\n      value: Math.min(value, maxValue)\n    };\n  }\n\n  function smoothedValue(nowMaybe) {\n    return returnMonotonic(function () {\n      var now = nowMaybe !== null && nowMaybe !== void 0 ? nowMaybe : Date.now();\n\n      if (_lastReading !== undefined) {\n        return fromLastReading(_lastReading, now);\n      }\n\n      return forecastInitialValue(now);\n    });\n  }\n\n  function smoothedFactor(nowMaybe) {\n    return smoothedValue(nowMaybe) / maxValue;\n  }\n\n  return {\n    setValue: setValue,\n    smoothedValue: smoothedValue,\n    smoothedFactor: smoothedFactor\n  };\n}\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(\"./src/index.ts\");\n/******/ })()\n;", "module.exports =\n/******/ (function() { // webpackBootstrap\n/******/ \t\"use strict\";\n/******/ \tvar __webpack_modules__ = ({\n\n/***/ \"./src/index.ts\":\n/***/ (function(__unused_webpack_module, __webpack_exports__, __webpack_require__) {\n\n// ESM COMPAT FLAG\n__webpack_require__.r(__webpack_exports__);\n\n// EXPORTS\n__webpack_require__.d(__webpack_exports__, {\n  \"Upload\": function() { return /* reexport */ Upload; },\n  \"UploadApiError\": function() { return /* reexport */ UploadApiError; }\n});\n\n;// CONCATENATED MODULE: external \"@upload-io/upload-api-client-upload-js\"\nvar upload_api_client_upload_js_namespaceObject = require(\"@upload-io/upload-api-client-upload-js\");;\n;// CONCATENATED MODULE: ./src/Mutex.ts\n/**\n * A lightweight mutex. (Other libraries contain too many features and we want to keep the size upload-js down).\n *\n * Characteristics:\n * - Non-reentrant.\n * - Unfair. (Multiple callers awaiting 'acquire' will be granted the mutex in no order.)\n *   - When calling `safe` consecutively with no 'awaits' in-between, the current context will synchronously acquire\n *     the mutex every time.\n */\nfunction _call(body, then, direct) {\n  if (direct) {\n    return then ? then(body()) : body();\n  }\n\n  try {\n    var result = Promise.resolve(body());\n    return then ? result.then(then) : result;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nfunction _rethrow(thrown, value) {\n  if (thrown) throw value;\n  return value;\n}\n\nfunction _finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, result);\n}\n\nfunction _empty() {}\n\nfunction _awaitIgnored(value, direct) {\n  if (!direct) {\n    return value && value.then ? value.then(_empty) : Promise.resolve();\n  }\n}\n\nfunction _settle(pact, state, value) {\n  if (!pact.s) {\n    if (value instanceof _Pact) {\n      if (value.s) {\n        if (state & 1) {\n          state = value.s;\n        }\n\n        value = value.v;\n      } else {\n        value.o = _settle.bind(null, pact, state);\n        return;\n      }\n    }\n\n    if (value && value.then) {\n      value.then(_settle.bind(null, pact, state), _settle.bind(null, pact, 2));\n      return;\n    }\n\n    pact.s = state;\n    pact.v = value;\n    var observer = pact.o;\n\n    if (observer) {\n      observer(pact);\n    }\n  }\n}\n\nvar _Pact = /*#__PURE__*/function () {\n  function _Pact() {}\n\n  _Pact.prototype.then = function (onFulfilled, onRejected) {\n    var result = new _Pact();\n    var state = this.s;\n\n    if (state) {\n      var callback = state & 1 ? onFulfilled : onRejected;\n\n      if (callback) {\n        try {\n          _settle(result, 1, callback(this.v));\n        } catch (e) {\n          _settle(result, 2, e);\n        }\n\n        return result;\n      } else {\n        return this;\n      }\n    }\n\n    this.o = function (_this) {\n      try {\n        var value = _this.v;\n\n        if (_this.s & 1) {\n          _settle(result, 1, onFulfilled ? onFulfilled(value) : value);\n        } else if (onRejected) {\n          _settle(result, 1, onRejected(value));\n        } else {\n          _settle(result, 2, value);\n        }\n      } catch (e) {\n        _settle(result, 2, e);\n      }\n    };\n\n    return result;\n  };\n\n  return _Pact;\n}();\n\nfunction _isSettledPact(thenable) {\n  return thenable instanceof _Pact && thenable.s & 1;\n}\n\nfunction _for(test, update, body) {\n  var stage;\n\n  for (;;) {\n    var shouldContinue = test();\n\n    if (_isSettledPact(shouldContinue)) {\n      shouldContinue = shouldContinue.v;\n    }\n\n    if (!shouldContinue) {\n      return result;\n    }\n\n    if (shouldContinue.then) {\n      stage = 0;\n      break;\n    }\n\n    var result = body();\n\n    if (result && result.then) {\n      if (_isSettledPact(result)) {\n        result = result.s;\n      } else {\n        stage = 1;\n        break;\n      }\n    }\n\n    if (update) {\n      var updateValue = update();\n\n      if (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n        stage = 2;\n        break;\n      }\n    }\n  }\n\n  var pact = new _Pact();\n\n  var reject = _settle.bind(null, pact, 2);\n\n  (stage === 0 ? shouldContinue.then(_resumeAfterTest) : stage === 1 ? result.then(_resumeAfterBody) : updateValue.then(_resumeAfterUpdate)).then(void 0, reject);\n  return pact;\n\n  function _resumeAfterBody(value) {\n    result = value;\n\n    do {\n      if (update) {\n        updateValue = update();\n\n        if (updateValue && updateValue.then && !_isSettledPact(updateValue)) {\n          updateValue.then(_resumeAfterUpdate).then(void 0, reject);\n          return;\n        }\n      }\n\n      shouldContinue = test();\n\n      if (!shouldContinue || _isSettledPact(shouldContinue) && !shouldContinue.v) {\n        _settle(pact, 1, result);\n\n        return;\n      }\n\n      if (shouldContinue.then) {\n        shouldContinue.then(_resumeAfterTest).then(void 0, reject);\n        return;\n      }\n\n      result = body();\n\n      if (_isSettledPact(result)) {\n        result = result.v;\n      }\n    } while (!result || !result.then);\n\n    result.then(_resumeAfterBody).then(void 0, reject);\n  }\n\n  function _resumeAfterTest(shouldContinue) {\n    if (shouldContinue) {\n      result = body();\n\n      if (result && result.then) {\n        result.then(_resumeAfterBody).then(void 0, reject);\n      } else {\n        _resumeAfterBody(result);\n      }\n    } else {\n      _settle(pact, 1, result);\n    }\n  }\n\n  function _resumeAfterUpdate() {\n    if (shouldContinue = test()) {\n      if (shouldContinue.then) {\n        shouldContinue.then(_resumeAfterTest).then(void 0, reject);\n      } else {\n        _resumeAfterTest(shouldContinue);\n      }\n    } else {\n      _settle(pact, 1, result);\n    }\n  }\n}\n\nfunction _continue(value, then) {\n  return value && value.then ? value.then(then) : then(value);\n}\n\nfunction _async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nfunction Mutex() {\n  var mutex;\n  var resolver;\n\n  var safe = function safe(callback) {\n    return _call(acquire, function () {\n      return _finallyRethrows(callback, function (_wasThrown, _result) {\n        release();\n        return _rethrow(_wasThrown, _result);\n      });\n    });\n  };\n\n  var acquire = _async(function () {\n    // Loop necessary for when multiple calls are made to 'acquire' before a 'release' is called, else the call to\n    // 'release' will resume every caller currently waiting on 'acquire'.\n    // eslint-disable-next-line no-unmodified-loop-condition\n    return _continue(_for(function () {\n      return mutex !== undefined;\n    }, void 0, function () {\n      return _awaitIgnored(mutex);\n    }), function () {\n      mutex = new Promise(function (resolve) {\n        resolver = resolve;\n      });\n    });\n  });\n\n  var release = function release() {\n    if (resolver === undefined) {\n      throw new Error(\"Unable to release mutex: already released.\");\n    }\n\n    resolver();\n    resolver = undefined;\n    mutex = undefined;\n  };\n\n  return {\n    safe: safe\n  };\n}\n;// CONCATENATED MODULE: external \"progress-smoother\"\nvar external_progress_smoother_namespaceObject = require(\"progress-smoother\");;\n;// CONCATENATED MODULE: ./src/UploadApiError.ts\nfunction _typeof(obj) { \"@babel/helpers - typeof\"; return _typeof = \"function\" == typeof Symbol && \"symbol\" == typeof Symbol.iterator ? function (obj) { return typeof obj; } : function (obj) { return obj && \"function\" == typeof Symbol && obj.constructor === Symbol && obj !== Symbol.prototype ? \"symbol\" : typeof obj; }, _typeof(obj); }\n\nfunction _defineProperties(target, props) { for (var i = 0; i < props.length; i++) { var descriptor = props[i]; descriptor.enumerable = descriptor.enumerable || false; descriptor.configurable = true; if (\"value\" in descriptor) descriptor.writable = true; Object.defineProperty(target, descriptor.key, descriptor); } }\n\nfunction _createClass(Constructor, protoProps, staticProps) { if (protoProps) _defineProperties(Constructor.prototype, protoProps); if (staticProps) _defineProperties(Constructor, staticProps); Object.defineProperty(Constructor, \"prototype\", { writable: false }); return Constructor; }\n\nfunction _classCallCheck(instance, Constructor) { if (!(instance instanceof Constructor)) { throw new TypeError(\"Cannot call a class as a function\"); } }\n\nfunction _inherits(subClass, superClass) { if (typeof superClass !== \"function\" && superClass !== null) { throw new TypeError(\"Super expression must either be null or a function\"); } subClass.prototype = Object.create(superClass && superClass.prototype, { constructor: { value: subClass, writable: true, configurable: true } }); Object.defineProperty(subClass, \"prototype\", { writable: false }); if (superClass) _setPrototypeOf(subClass, superClass); }\n\nfunction _createSuper(Derived) { var hasNativeReflectConstruct = _isNativeReflectConstruct(); return function _createSuperInternal() { var Super = _getPrototypeOf(Derived), result; if (hasNativeReflectConstruct) { var NewTarget = _getPrototypeOf(this).constructor; result = Reflect.construct(Super, arguments, NewTarget); } else { result = Super.apply(this, arguments); } return _possibleConstructorReturn(this, result); }; }\n\nfunction _possibleConstructorReturn(self, call) { if (call && (_typeof(call) === \"object\" || typeof call === \"function\")) { return call; } else if (call !== void 0) { throw new TypeError(\"Derived constructors may only return object or undefined\"); } return _assertThisInitialized(self); }\n\nfunction _assertThisInitialized(self) { if (self === void 0) { throw new ReferenceError(\"this hasn't been initialised - super() hasn't been called\"); } return self; }\n\nfunction _wrapNativeSuper(Class) { var _cache = typeof Map === \"function\" ? new Map() : undefined; _wrapNativeSuper = function _wrapNativeSuper(Class) { if (Class === null || !_isNativeFunction(Class)) return Class; if (typeof Class !== \"function\") { throw new TypeError(\"Super expression must either be null or a function\"); } if (typeof _cache !== \"undefined\") { if (_cache.has(Class)) return _cache.get(Class); _cache.set(Class, Wrapper); } function Wrapper() { return _construct(Class, arguments, _getPrototypeOf(this).constructor); } Wrapper.prototype = Object.create(Class.prototype, { constructor: { value: Wrapper, enumerable: false, writable: true, configurable: true } }); return _setPrototypeOf(Wrapper, Class); }; return _wrapNativeSuper(Class); }\n\nfunction _construct(Parent, args, Class) { if (_isNativeReflectConstruct()) { _construct = Reflect.construct; } else { _construct = function _construct(Parent, args, Class) { var a = [null]; a.push.apply(a, args); var Constructor = Function.bind.apply(Parent, a); var instance = new Constructor(); if (Class) _setPrototypeOf(instance, Class.prototype); return instance; }; } return _construct.apply(null, arguments); }\n\nfunction _isNativeReflectConstruct() { if (typeof Reflect === \"undefined\" || !Reflect.construct) return false; if (Reflect.construct.sham) return false; if (typeof Proxy === \"function\") return true; try { Boolean.prototype.valueOf.call(Reflect.construct(Boolean, [], function () {})); return true; } catch (e) { return false; } }\n\nfunction _isNativeFunction(fn) { return Function.toString.call(fn).indexOf(\"[native code]\") !== -1; }\n\nfunction _setPrototypeOf(o, p) { _setPrototypeOf = Object.setPrototypeOf || function _setPrototypeOf(o, p) { o.__proto__ = p; return o; }; return _setPrototypeOf(o, p); }\n\nfunction _getPrototypeOf(o) { _getPrototypeOf = Object.setPrototypeOf ? Object.getPrototypeOf : function _getPrototypeOf(o) { return o.__proto__ || Object.getPrototypeOf(o); }; return _getPrototypeOf(o); }\n\nvar UploadApiError = /*#__PURE__*/function (_Error) {\n  _inherits(UploadApiError, _Error);\n\n  var _super = _createSuper(UploadApiError);\n\n  function UploadApiError(response) {\n    var _this;\n\n    _classCallCheck(this, UploadApiError);\n\n    _this = _super.call(this, response.error.message);\n    _this.errorCode = response.error.code;\n    _this.details = response.error.details;\n    return _this;\n  }\n\n  return _createClass(UploadApiError);\n}( /*#__PURE__*/_wrapNativeSuper(Error));\n;// CONCATENATED MODULE: ./src/Upload.ts\nfunction Upload_rethrow(thrown, value) {\n  if (thrown) throw value;\n  return value;\n}\n\nfunction Upload_finallyRethrows(body, finalizer) {\n  try {\n    var result = body();\n  } catch (e) {\n    return finalizer(true, e);\n  }\n\n  if (result && result.then) {\n    return result.then(finalizer.bind(null, false), finalizer.bind(null, true));\n  }\n\n  return finalizer(false, result);\n}\n\nfunction _continueIgnored(value) {\n  if (value && value.then) {\n    return value.then(Upload_empty);\n  }\n}\n\nfunction _toConsumableArray(arr) { return _arrayWithoutHoles(arr) || _iterableToArray(arr) || _unsupportedIterableToArray(arr) || _nonIterableSpread(); }\n\nfunction _nonIterableSpread() { throw new TypeError(\"Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\"); }\n\nfunction _unsupportedIterableToArray(o, minLen) { if (!o) return; if (typeof o === \"string\") return _arrayLikeToArray(o, minLen); var n = Object.prototype.toString.call(o).slice(8, -1); if (n === \"Object\" && o.constructor) n = o.constructor.name; if (n === \"Map\" || n === \"Set\") return Array.from(o); if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return _arrayLikeToArray(o, minLen); }\n\nfunction _iterableToArray(iter) { if (typeof Symbol !== \"undefined\" && iter[Symbol.iterator] != null || iter[\"@@iterator\"] != null) return Array.from(iter); }\n\nfunction _arrayWithoutHoles(arr) { if (Array.isArray(arr)) return _arrayLikeToArray(arr); }\n\nfunction _arrayLikeToArray(arr, len) { if (len == null || len > arr.length) len = arr.length; for (var i = 0, arr2 = new Array(len); i < len; i++) { arr2[i] = arr[i]; } return arr2; }\n\n\n\n\n\n\nfunction Upload_empty() {}\n\nvar accountIdLength = 7; // Sync with: upload/shared/**/AccountIdUtils\n\nfunction Upload_awaitIgnored(value, direct) {\n  if (!direct) {\n    return value && value.then ? value.then(Upload_empty) : Promise.resolve();\n  }\n}\n\nvar specialApiKeyAccountId = \"W142hJk\";\n\nfunction Upload_async(f) {\n  return function () {\n    for (var args = [], i = 0; i < arguments.length; i++) {\n      args[i] = arguments[i];\n    }\n\n    try {\n      return Promise.resolve(f.apply(this, args));\n    } catch (e) {\n      return Promise.reject(e);\n    }\n  };\n}\n\nvar specialApiKeys = [\"free\", \"demo\"];\n\nfunction _await(value, then, direct) {\n  if (direct) {\n    return then ? then(value) : value;\n  }\n\n  if (!value || !value.then) {\n    value = Promise.resolve(value);\n  }\n\n  return then ? value.then(then) : value;\n}\n\nvar apiKeyPrefix = \"public_\";\n\nfunction Upload_call(body, then, direct) {\n  if (direct) {\n    return then ? then(body()) : body();\n  }\n\n  try {\n    var result = Promise.resolve(body());\n    return then ? result.then(then) : result;\n  } catch (e) {\n    return Promise.reject(e);\n  }\n}\n\nvar maxUploadConcurrency = 5;\n\nfunction _callIgnored(body, direct) {\n  return Upload_call(body, Upload_empty, direct);\n}\n\nvar refreshBeforeExpirySeconds = 20;\n\nfunction _catch(body, recover) {\n  try {\n    var result = body();\n  } catch (e) {\n    return recover(e);\n  }\n\n  if (result && result.then) {\n    return result.then(void 0, recover);\n  }\n\n  return result;\n}\n\nvar onProgressInterval = 100;\n\nfunction _invokeIgnored(body) {\n  var result = body();\n\n  if (result && result.then) {\n    return result.then(Upload_empty);\n  }\n}\n\nvar retryAuthAfterErrorSeconds = 5;\nvar minJwtTtlSeconds = 10;\nvar accessTokenPathBase = \"/api/v1/access_tokens/\";\nvar logPrefix = \"[upload-js] \";\n/**\n * You should instantiate one instance of this class in your web app.\n *\n * Try using:\n *\n *    Upload({apiKey: \"free\"})\n *\n * If multiple instances exist, then all '*AuthSession' calls will be forwarded to the first instance that had an\n * '*AuthSession' call invoked on it.\n */\n\nfunction Upload(config) {\n  // ----------------\n  // READONLY MEMBERS\n  // ----------------\n  var _a, _b, _c, _d, _e, _f, _g, _h, _j;\n\n  var accountId;\n  var authMutex = Mutex();\n  var apiUrl = (_b = (_a = config.internal) === null || _a === void 0 ? void 0 : _a.apiUrl) !== null && _b !== void 0 ? _b : \"https://api.upload.io\";\n  var cdnUrl = (_d = (_c = config.internal) === null || _c === void 0 ? void 0 : _c.cdnUrl) !== null && _d !== void 0 ? _d : \"https://upcdn.io\";\n  var authenticateWithApiKey = (_f = (_e = config.internal) === null || _e === void 0 ? void 0 : _e.authenticateWithApiKey) !== null && _f !== void 0 ? _f : true;\n  var headers = (_g = config.internal) === null || _g === void 0 ? void 0 : _g.headers;\n  var debugMode = config.debug === true; // ------------------\n  // READ/WRITE MEMBERS\n  // ------------------\n\n  var lastAuthSession; // ----------------\n  // CONSTRUCTOR\n  // ----------------\n\n  if ((config !== null && config !== void 0 ? config : undefined) === undefined) {\n    throw new Error(\"\".concat(logPrefix, \"Config parameter required.\"));\n  }\n\n  if (config.debug === true) {\n    console.log(\"\".concat(logPrefix, \"Initialized with API key '\").concat(config.apiKey, \"'\"));\n  }\n\n  if (((_h = config.apiKey) !== null && _h !== void 0 ? _h : undefined) === undefined) {\n    throw new Error(\"\".concat(logPrefix, \"Please provide an API key via the 'apiKey' config parameter.\"));\n  }\n\n  if (config.apiKey.trim() !== config.apiKey) {\n    // We do not support API keys with whitespace (by trimming ourselves) because otherwise we'd need to support this\n    // everywhere in perpetuity (since removing the trimming would be a breaking change).\n    throw new Error(\"\".concat(logPrefix, \"API key needs trimming (whitespace detected).\"));\n  } // Non-api-key authentication is required by Upload Dashboard, which uses bearer tokens instead of API keys because\n  // the user may not have any active API keys, but might still want to upload files via the Upload Dashboard.\n\n\n  if (((_j = config.internal) === null || _j === void 0 ? void 0 : _j.authenticateWithApiKey) === false) {\n    accountId = config.internal.accountId;\n  } else {\n    if (specialApiKeys.includes(config.apiKey)) {\n      accountId = specialApiKeyAccountId;\n    } else {\n      if (!config.apiKey.startsWith(apiKeyPrefix)) {\n        throw new Error(\"\".concat(logPrefix, \"API key must begin with \\\"\").concat(apiKeyPrefix, \"\\\".\"));\n      }\n\n      accountId = config.apiKey.substr(apiKeyPrefix.length, accountIdLength);\n\n      if (accountId.length !== accountIdLength) {\n        throw new Error(\"\".concat(logPrefix, \"API key is too short!\"));\n      }\n    }\n  }\n\n  var accessTokenUrl = \"\".concat(cdnUrl).concat(accessTokenPathBase).concat(accountId); // ----------------\n  // PUBLIC METHODS\n  // ----------------\n\n  var beginAuthSession = Upload_async(function (authUrl, authHeaders) {\n    return Upload_awaitIgnored(callAuthMethod(Upload_async(function (x) {\n      return x.beginAuthSession(authUrl, authHeaders);\n    }), function () {\n      return Upload_call(endAuthSession, function () {\n        var authSession = {\n          accessToken: undefined,\n          accessTokenRefreshHandle: undefined,\n          isActive: true\n        }; // Does not need to be inside the mutex since the environment is single-threaded, and we have not async-yielded\n        // since the mutex from 'endAuthSession' was relinquished (meaning we still have execution, so we know a) nothing\n        // can interject and b) nothing has interjected since the lock was relinquished).\n\n        lastAuthSession = authSession;\n        return Upload_awaitIgnored(refreshAccessToken(authUrl, authHeaders, authSession));\n      });\n    }));\n  });\n\n  var endAuthSession = Upload_async(function () {\n    return Upload_awaitIgnored(callAuthMethod(Upload_async(function (x) {\n      return x.endAuthSession();\n    }), Upload_async(function () {\n      return Upload_awaitIgnored(authMutex.safe(Upload_async(function () {\n        if (lastAuthSession === undefined) {\n          return;\n        }\n\n        var authSession = lastAuthSession;\n        lastAuthSession = undefined;\n\n        if (authSession.accessTokenRefreshHandle !== undefined) {\n          clearTimeout(authSession.accessTokenRefreshHandle);\n        }\n\n        authSession.isActive = false;\n        return _callIgnored(deleteAccessToken);\n      })));\n    })));\n  });\n\n  var uploadFile = Upload_async(function (file) {\n    var params = arguments.length > 1 && arguments[1] !== undefined ? arguments[1] : {};\n    // Initial progress (raised immediately and synchronously).\n    var cancellationHandlers = [];\n\n    var addCancellationHandler = function addCancellationHandler(ca) {\n      cancellationHandlers.push(ca);\n    };\n\n    var cancel = function cancel() {\n      return cancellationHandlers.forEach(function (x) {\n        return x();\n      });\n    };\n\n    if (params.onBegin !== undefined) {\n      params.onBegin({\n        cancel: cancel\n      });\n    }\n\n    return _catch(function () {\n      return _await(beginFileUpload(file, params, addCancellationHandler));\n    }, function (e) {\n      cancel();\n      throw e;\n    });\n  });\n\n  var url = function url(filePath, slugOrParams) {\n    var _a;\n\n    var defaultSlug = \"raw\";\n    var params = typeof slugOrParams === \"string\" ? {\n      transformation: slugOrParams\n    } : slugOrParams;\n    return \"\".concat(cdnUrl, \"/\").concat(accountId, \"/\").concat((_a = params === null || params === void 0 ? void 0 : params.transformation) !== null && _a !== void 0 ? _a : defaultSlug).concat(filePath).concat((params === null || params === void 0 ? void 0 : params.auth) === true ? \"?_auth=true\" : \"\");\n  };\n\n  var self = {\n    beginAuthSession: beginAuthSession,\n    endAuthSession: endAuthSession,\n    uploadFile: uploadFile,\n    url: url\n  }; // ----------------\n  // PRIVATE METHODS\n  // ----------------\n\n  var beginFileUpload = Upload_async(function (file, params, addCancellationHandler) {\n    var progressSmoother = (0,external_progress_smoother_namespaceObject.ProgressSmoother)({\n      maxValue: file.size,\n      teardownTime: 1000,\n      minDelayUntilFirstValue: 2000,\n      valueIncreaseDelta: 200 * 1024,\n      valueIncreaseRatePerSecond: 50 * 1024,\n      averageTimeBetweenValues: 1000 // When running, XHR should (hopefully) report at least every second, regardless of connection speed.\n\n    });\n\n    var reportProgress = function reportProgress(stopReportingProgress) {\n      if (params.onProgress === undefined) {\n        stopReportingProgress(); // Important to call this, as outer function awaits this call when the download ends.\n      } else {\n        var bytesSent = progressSmoother.smoothedValue();\n        var bytesTotal = file.size;\n\n        if (bytesSent === bytesTotal) {\n          stopReportingProgress();\n        }\n\n        params.onProgress({\n          bytesSent: bytesSent,\n          bytesTotal: bytesTotal,\n          progress: Math.round(bytesSent / bytesTotal * 100)\n        });\n      }\n    };\n\n    return withProgressReporting(onProgressInterval, reportProgress, Upload_async(function () {\n      var uploadRequest = {\n        path: params.path,\n        metadata: params.metadata,\n        mime: normalizeMimeType(file.type),\n        originalFileName: file.name,\n        protocol: \"1.1\",\n        size: file.size,\n        tags: params.tags\n      };\n      debug(\"Initiating file upload. Params = \".concat(JSON.stringify(uploadRequest)));\n      return _await((0,upload_api_client_upload_js_namespaceObject.beginMultipartUpload)(getConfig(), accountId, uploadRequest), function (_beginMultipartUpload) {\n        var uploadMetadata = handleApiResult(_beginMultipartUpload);\n        debug(\"Initiated file upload. Metadata = \".concat(JSON.stringify(uploadMetadata)));\n\n        var incUploadIndex = function () {\n          var lastUploadIndex = 0;\n          return function () {\n            if (lastUploadIndex === uploadMetadata.uploadParts.count - 1) {\n              return undefined;\n            }\n\n            return ++lastUploadIndex;\n          };\n        }();\n\n        var nextPartQueue = [uploadMetadata.uploadParts.first];\n\n        var getNextPart = Upload_async(function (workerIndex) {\n          var nextPart = nextPartQueue.pop();\n\n          if (nextPart !== undefined) {\n            debug(\"Dequeued part \".concat(nextPart.uploadPartIndex, \".\"), workerIndex);\n            return nextPart;\n          }\n\n          var uploadPartIndex = incUploadIndex();\n\n          if (uploadPartIndex === undefined) {\n            debug(\"No parts remaining.\", workerIndex);\n            return undefined;\n          }\n\n          debug(\"Fetching metadata for part \".concat(uploadPartIndex, \".\"), workerIndex);\n          return _await((0,upload_api_client_upload_js_namespaceObject.getUploadPart)(getConfig(), accountId, uploadMetadata.uploadId, uploadPartIndex), handleApiResult);\n        });\n\n        var bytesSentByEachWorker = [];\n\n        var uploadNextPart = function uploadNextPart(workerIndex) {\n          return _await(getNextPart(workerIndex), function (nextPart) {\n            return _invokeIgnored(function () {\n              if (nextPart !== undefined) {\n                var lastBytesSent = 0;\n\n                var progress = function progress(_ref) {\n                  var bytesSent = _ref.bytesSent;\n\n                  if (bytesSentByEachWorker[workerIndex] === undefined) {\n                    bytesSentByEachWorker[workerIndex] = bytesSent;\n                  } else {\n                    bytesSentByEachWorker[workerIndex] -= lastBytesSent;\n                    bytesSentByEachWorker[workerIndex] += bytesSent;\n                  }\n\n                  lastBytesSent = bytesSent;\n                  var totalBytesSent = bytesSentByEachWorker.reduce(function (a, b) {\n                    return a + b;\n                  });\n                  progressSmoother.setValue(totalBytesSent);\n                };\n\n                return _await(uploadPart(file, nextPart, progress, addCancellationHandler, workerIndex), function () {\n                  return Upload_awaitIgnored(uploadNextPart(workerIndex));\n                });\n              }\n            });\n          });\n        };\n\n        return _await(Promise.all(_toConsumableArray(Array(maxUploadConcurrency).keys()).map(function (workerIndex) {\n          return _await(uploadNextPart(workerIndex));\n        })), function () {\n          var uploadedFile = Object.assign({\n            accountId: accountId,\n            file: file\n          }, uploadMetadata.file);\n          debug(\"File upload completed.\");\n          return uploadedFile;\n        });\n      });\n    }));\n  });\n\n  var putUploadPart = Upload_async(function (url, content, progress, addCancellationHandler) {\n    var xhr = new XMLHttpRequest();\n    var pending = true;\n    addCancellationHandler(function () {\n      if (pending) {\n        xhr.abort();\n      }\n    });\n    return Upload_finallyRethrows(function () {\n      return _await(new Promise(function (resolve, reject) {\n        xhr.upload.addEventListener(\"progress\", function (evt) {\n          if (evt.lengthComputable) {\n            progress({\n              bytesSent: evt.loaded,\n              bytesTotal: evt.total\n            });\n          }\n        }, false);\n        xhr.addEventListener(\"load\", function () {\n          // Ensure we always report the progress of a finished upload as 100%.\n          progress({\n            bytesSent: content.size,\n            bytesTotal: content.size\n          });\n\n          if (Math.floor(xhr.status / 100) === 2) {\n            var etag = xhr.getResponseHeader(\"etag\");\n\n            if (etag === null || etag === undefined) {\n              reject(new Error(\"File upload error: no etag header in upload response.\"));\n            } else {\n              resolve({\n                etag: etag\n              });\n            }\n          } else {\n            reject(new Error(\"File upload error: status code \".concat(xhr.status)));\n          }\n        });\n\n        xhr.onabort = function () {\n          return reject(new Error(\"File upload cancelled.\"));\n        };\n\n        xhr.onerror = function () {\n          return reject(new Error(\"File upload error.\"));\n        };\n\n        xhr.ontimeout = function () {\n          return reject(new Error(\"File upload timeout.\"));\n        };\n\n        xhr.open(\"PUT\", url);\n        xhr.send(content);\n      }));\n    }, function (_wasThrown, _result) {\n      pending = false;\n      return Upload_rethrow(_wasThrown, _result);\n    });\n  });\n\n  var uploadPart = Upload_async(function (file, part, progress, addCancellationHandler, workerIndex) {\n    var content = part.range.inclusiveEnd === -1 ? new Blob() : file.slice(part.range.inclusiveStart, part.range.inclusiveEnd + 1);\n    debug(\"Uploading part \".concat(part.uploadPartIndex, \".\"), workerIndex);\n    return _await(putUploadPart(part.uploadUrl, content, progress, addCancellationHandler), function (_ref2) {\n      var etag = _ref2.etag;\n      return _await((0,upload_api_client_upload_js_namespaceObject.completeUploadPart)(getConfig(), accountId, part.uploadId, part.uploadPartIndex, {\n        etag: etag\n      }), function (_completeUploadPart) {\n        handleApiResult(_completeUploadPart);\n        debug(\"Uploaded part \".concat(part.uploadPartIndex, \".\"), workerIndex);\n      });\n    });\n  });\n\n  var withProgressReporting = Upload_async(function (tickInterval, tick, scope) {\n    var whileReportingResolved;\n    var whileReporting = new Promise(function (resolve) {\n      whileReportingResolved = resolve;\n    });\n    var isReporting = true;\n\n    var stopReporting = function stopReporting() {\n      if (isReporting) {\n        whileReportingResolved();\n        clearInterval(intervalHandle);\n        isReporting = false;\n      }\n    };\n\n    var intervalHandle = setInterval(function () {\n      return tick(stopReporting);\n    }, tickInterval);\n    return Upload_finallyRethrows(function () {\n      return Upload_call(scope, function (result) {\n        return _await(whileReporting, function () {\n          return result;\n        });\n      });\n    }, function (_wasThrown2, _result2) {\n      stopReporting();\n      return Upload_rethrow(_wasThrown2, _result2);\n    });\n  });\n\n  var deleteAccessToken = Upload_async(function () {\n    return Upload_awaitIgnored(deleteNoResponse(accessTokenUrl, {}, true // Required, else CDN response's `Set-Cookie` header will be silently ignored.\n    ));\n  });\n  /**\n   * Calls the given auth method on the canonical auth instance.\n   */\n\n\n  var callAuthMethod = Upload_async(function (other, me) {\n    var authInstance = getAuthInstance();\n    return _invokeIgnored(function () {\n      if (authInstance !== self) {\n        // Forward call to global auth instance.\n        return Upload_awaitIgnored(other(authInstance));\n      } else {\n        return _callIgnored(me);\n      }\n    });\n  });\n  /**\n   * Returns a single global instance of Upload.js for all auth calls.\n   * If we require multiple instances in the future, we can provide a parameter to disable this behaviour.\n   */\n\n\n  var getAuthInstance = function getAuthInstance() {\n    var globalKey = \"uploadJsAuthInstance\";\n    var globalAuthInstance = window[globalKey];\n\n    if (globalAuthInstance === undefined) {\n      globalAuthInstance = self;\n      window[globalKey] = self;\n    }\n\n    return globalAuthInstance;\n  };\n\n  var refreshAccessToken = Upload_async(function (authUrl, authHeaders, authSession) {\n    return _continueIgnored(_catch(function () {\n      return Upload_awaitIgnored(authMutex.safe(Upload_async(function () {\n        // Session may have been ended while timer was waiting.\n        if (!authSession.isActive) {\n          return;\n        }\n\n        return Upload_call(authHeaders, function (_authHeaders) {\n          return _await(getAccessToken(authUrl, _authHeaders), function (token) {\n            return _await(putJsonGetJson(accessTokenUrl, {}, {\n              accessToken: token\n            }, true // Required, else CDN response's `Set-Cookie` header will be silently ignored.\n            ), function (setTokenResult) {\n              var desiredTtlSeconds = setTokenResult.ttlSeconds - refreshBeforeExpirySeconds;\n\n              if (desiredTtlSeconds < minJwtTtlSeconds) {\n                warn(\"JWT expiration is too short: waiting for \".concat(minJwtTtlSeconds, \" seconds before refreshing.\"));\n              }\n\n              authSession.accessToken = setTokenResult.accessToken;\n              authSession.accessTokenRefreshHandle = window.setTimeout(function () {\n                refreshAccessToken(authUrl, authHeaders, authSession).then(function () {}, function (e) {\n                  return error(\"Permanent error when refreshing access token: \".concat(e));\n                });\n              }, Math.max(minJwtTtlSeconds, desiredTtlSeconds) * 1000);\n            });\n          });\n        });\n      })));\n    }, function (e) {\n      // Use 'error' instead of 'debug' so that the user sees error messages.\n      error(\"Error when refreshing access token: \".concat(e)); // Perform attempts as part of same promise, rather than via a 'setTimeout' so that the 'beginAuthSession' only\n      // returns once an auth session has been successfully established.\n\n      return _await(new Promise(function (resolve) {\n        return setTimeout(resolve, retryAuthAfterErrorSeconds * 1000);\n      }), function () {\n        // Todo: is this stack safe?\n        return Upload_awaitIgnored(refreshAccessToken(authUrl, authHeaders, authSession));\n      });\n    }));\n  });\n\n  var putJsonGetJson = Upload_async(function (url, headers, requestBody, withCredentials) {\n    return _await(nonUploadApiRequest({\n      method: \"PUT\",\n      path: url,\n      headers: headers,\n      body: requestBody\n    }, withCredentials), function (_nonUploadApiRequest) {\n      return _await(handleApiResult(_nonUploadApiRequest));\n    });\n  });\n\n  var getAccessToken = Upload_async(function (authUrl, headers) {\n    var endpointName = \"Your auth API endpoint\";\n    return _await(nonUploadApiRequest({\n      method: \"GET\",\n      path: authUrl,\n      headers: headers\n    }, false), function (result) {\n      if (!result.ok) {\n        throw new Error(\"\".concat(logPrefix).concat(endpointName, \" returned a failed response. Please ensure the endpoint's status code is 200.\"));\n      }\n\n      var jwt = result.body;\n\n      if (typeof jwt !== \"string\") {\n        // We will receive 'null' if there was no content-type response header.\n        throw new Error(\"\".concat(logPrefix).concat(endpointName, \" returned an unsupported response. Please ensure: 1) 'Content-Type: text/plain' is in the HTTP response headers 2) the status code is 200.\"));\n      }\n\n      if (jwt.length === 0) {\n        throw new Error(\"\".concat(logPrefix).concat(endpointName, \" returned an empty string. Please return a valid JWT instead.\"));\n      }\n\n      if (jwt.trim().length !== jwt.length) {\n        // Whitespace can be a nightmare to spot/debug, so we fail early here.\n        throw new Error(\"\".concat(logPrefix).concat(endpointName, \" returned whitespace around the JWT, please remove it.\"));\n      }\n\n      return jwt;\n    });\n  });\n\n  var deleteNoResponse = Upload_async(function (url, headers, withCredentials) {\n    return _await(nonUploadApiRequest({\n      method: \"DELETE\",\n      path: url,\n      headers: headers\n    }, withCredentials), function (_nonUploadApiRequest2) {\n      handleApiResult(_nonUploadApiRequest2);\n    });\n  });\n\n  var handleApiResult = function handleApiResult(result) {\n    var _a;\n\n    if (result.ok) {\n      return result.body;\n    }\n\n    var errorResponseMaybe = result.body;\n\n    if (typeof ((_a = errorResponseMaybe === null || errorResponseMaybe === void 0 ? void 0 : errorResponseMaybe.error) === null || _a === void 0 ? void 0 : _a.code) === \"string\") {\n      throw new UploadApiError(errorResponseMaybe);\n    }\n\n    throw new Error(\"\".concat(logPrefix, \"Unexpected API error.\"));\n  };\n\n  var nonUploadApiRequest = Upload_async(function (options, withCredentials) {\n    return (0,upload_api_client_upload_js_namespaceObject.request)({\n      BASE: options.path,\n      WITH_CREDENTIALS: withCredentials\n    }, Object.assign(Object.assign({}, options), {\n      path: \"\" // We set to \"\" because we're using \"BASE\" above instead.\n\n    }));\n  });\n\n  var getConfig = function getConfig() {\n    var apiConfig = {\n      BASE: apiUrl,\n      WITH_CREDENTIALS: true\n    };\n\n    if (authenticateWithApiKey) {\n      apiConfig.USERNAME = \"apikey\";\n      apiConfig.PASSWORD = config.apiKey;\n    }\n\n    var accessToken = lastAuthSession === null || lastAuthSession === void 0 ? void 0 : lastAuthSession.accessToken;\n\n    if (headers !== undefined || accessToken !== undefined) {\n      apiConfig.HEADERS = Upload_async(function () {\n        return _await(headers === undefined ? {} : headers(), function (headersFromConfig) {\n          var accessToken = lastAuthSession === null || lastAuthSession === void 0 ? void 0 : lastAuthSession.accessToken; // Re-fetch as there's been an async boundary so state may have changed.\n\n          return Object.assign(Object.assign({}, headersFromConfig), accessToken === undefined ? {} : {\n            \"authorization-token\": accessToken\n          });\n        }, headers === undefined);\n      });\n    }\n\n    return apiConfig;\n  };\n\n  var normalizeMimeType = function normalizeMimeType(mime) {\n    var normal = mime.toLowerCase();\n    var regex = /^[a-z0-9]+\\/[a-z0-9+\\-._]+(?:;[^=]+=[^;]+)*$/; // Sync with 'MimeTypeUnboxed' in 'upload/api'.\n\n    return regex.test(normal) ? normal : undefined;\n  };\n\n  var debug = function debug(message, workerIndex) {\n    if (debugMode) {\n      console.log(\"\".concat(logPrefix).concat(message).concat(workerIndex !== undefined ? \" (Worker \".concat(workerIndex, \")\") : \"\"));\n    }\n  };\n\n  var error = function error(message) {\n    console.error(\"\".concat(logPrefix).concat(message));\n  };\n\n  var warn = function warn(message) {\n    console.warn(\"\".concat(logPrefix).concat(message));\n  };\n\n  return self;\n}\n;// CONCATENATED MODULE: ./src/index.ts\n\n\n\n/***/ })\n\n/******/ \t});\n/************************************************************************/\n/******/ \t// The module cache\n/******/ \tvar __webpack_module_cache__ = {};\n/******/ \t\n/******/ \t// The require function\n/******/ \tfunction __webpack_require__(moduleId) {\n/******/ \t\t// Check if module is in cache\n/******/ \t\tif(__webpack_module_cache__[moduleId]) {\n/******/ \t\t\treturn __webpack_module_cache__[moduleId].exports;\n/******/ \t\t}\n/******/ \t\t// Create a new module (and put it into the cache)\n/******/ \t\tvar module = __webpack_module_cache__[moduleId] = {\n/******/ \t\t\t// no module.id needed\n/******/ \t\t\t// no module.loaded needed\n/******/ \t\t\texports: {}\n/******/ \t\t};\n/******/ \t\n/******/ \t\t// Execute the module function\n/******/ \t\t__webpack_modules__[moduleId](module, module.exports, __webpack_require__);\n/******/ \t\n/******/ \t\t// Return the exports of the module\n/******/ \t\treturn module.exports;\n/******/ \t}\n/******/ \t\n/************************************************************************/\n/******/ \t/* webpack/runtime/define property getters */\n/******/ \t!function() {\n/******/ \t\t// define getter functions for harmony exports\n/******/ \t\t__webpack_require__.d = function(exports, definition) {\n/******/ \t\t\tfor(var key in definition) {\n/******/ \t\t\t\tif(__webpack_require__.o(definition, key) && !__webpack_require__.o(exports, key)) {\n/******/ \t\t\t\t\tObject.defineProperty(exports, key, { enumerable: true, get: definition[key] });\n/******/ \t\t\t\t}\n/******/ \t\t\t}\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/hasOwnProperty shorthand */\n/******/ \t!function() {\n/******/ \t\t__webpack_require__.o = function(obj, prop) { return Object.prototype.hasOwnProperty.call(obj, prop); }\n/******/ \t}();\n/******/ \t\n/******/ \t/* webpack/runtime/make namespace object */\n/******/ \t!function() {\n/******/ \t\t// define __esModule on exports\n/******/ \t\t__webpack_require__.r = function(exports) {\n/******/ \t\t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n/******/ \t\t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n/******/ \t\t\t}\n/******/ \t\t\tObject.defineProperty(exports, '__esModule', { value: true });\n/******/ \t\t};\n/******/ \t}();\n/******/ \t\n/************************************************************************/\n/******/ \t// module exports must be returned from runtime so entry inlining is disabled\n/******/ \t// startup\n/******/ \t// Load entry module and return exports\n/******/ \treturn __webpack_require__(\"./src/index.ts\");\n/******/ })()\n;"],
  "mappings": "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",
  "names": ["__webpack_require__", "resolve", "value", "module", "exports", "require_main", "__webpack_require__", "module", "exports", "require_main", "__webpack_require__", "_Pact", "shouldContinue", "safe", "release", "obj", "_wrapNativeSuper", "Class", "_construct", "Parent", "args", "_setPrototypeOf", "o", "p", "_getPrototypeOf", "UploadApiError", "addCancellationHandler", "cancel", "url", "_a", "reportProgress", "uploadNextPart", "progress", "stopReporting", "getAuthInstance", "headers", "handleApiResult", "getConfig", "accessToken", "normalizeMimeType", "debug", "error", "warn", "module", "exports"]
}
